{"version":3,"sources":["webpack:///webpack/bootstrap d0693eb08dff27017c40","webpack:///external \"mongoose\"","webpack:///external \"node-mind\"","webpack:///external \"lodash\"","webpack:///./src/index.js","webpack:///./node_modules/babel-runtime/regenerator/index.js","webpack:///external \"regenerator-runtime\"","webpack:///external \"debug\"","webpack:///external \"http\"","webpack:///external \"express\"","webpack:///external \"path\"","webpack:///external \"morgan\"","webpack:///external \"jade\"","webpack:///external \"cookie-parser\"","webpack:///external \"bluebird\"","webpack:///external \"body-parser\"","webpack:///external \"chalk\"","webpack:///./src/utils/AnalyticsWidget.js","webpack:///external \"decision-tree\"","webpack:///./models/Form.js","webpack:///./models/Element.js","webpack:///./models/User.js"],"names":["debug","require","http","express","path","logger","jade","cookieParser","bluebird","bodyParser","mongoose","chalk","Mind","_","Analytics","app","VERSION","Form","Element","User","promisifyAll","Promise","global","connect","keepAlive","reconnectTries","useMongoClient","reconnectInterval","err","hex","error","console","log","green","use","json","urlencoded","extended","static","join","__dirname","set","req","res","next","header","method","send","options","get","version","post","namespace","body","elements","limit","hasOwnProperty","find","record","length","save","success","union","filter","includes","e","promises","responseData","forEach","element","p","exec","then","analyticsMethod","perSubjectRecent","val","perSubjectFrequency","decisionTree","bayesian","predict","push","all","catch","name","email","password","username","user","runAnalytics","dataset","sortResults","data","prop","asc","sort","a","b","namespaces","analysis","sortedData","i","temp","d","result","formNamespace","elementNamespaces","elementValues","values","msg","every","indexOf","elem","records","map","value","key","references","finalRef","ele","updatedAt","Date","createdAt","collection","insert","train","test","takeRight","input","normalizeArray","doc","output","normalize","mind","learn","denormalize","o","confidence","obj","keys","index","findIndex","prediction","reference","remove","hasTable","hasAnd","query","hasOr","hasWhere","hasUser","hasLike","hasLimit","hasTables","$regex","$options","table","where","$all","and","$in","or","like","toFullNamespace","tables","docs","take","locals","message","status","port","blue","server","createServer","listen","onError","onListening","syscall","bind","code","process","exit","addr","address","DecisionTree","module","exports","arr","Boolean","frequency","uniques","n","compareFrequency","dt","predicted_class","treeModel","toJSON","elementArray","Schema","String","Array","model","type"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d0693eb08dff27017c40","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"node-mind\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-mind\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 2\n// module chunks = 0","const debug = require('debug')('form-analytics:server');\nconst http = require('http');\nconst express = require('express');\nconst path = require('path');\nconst logger = require('morgan');\nconst jade = require('jade');\nconst cookieParser = require('cookie-parser');\nconst bluebird = require('bluebird');\nconst bodyParser = require('body-parser');\nconst mongoose = require('mongoose');\nconst chalk = require('chalk');\nconst Mind = require('node-mind');\nconst _ = require('lodash');\nconst Analytics = require('./utils/AnalyticsWidget.js');\n\nconst app = express();\nconst VERSION = \"1.0.2\";\n\n//Models\nconst Form = require('../models/Form');\nconst Element = require('../models/Element');\nconst User = require('../models/User');\n\nbluebird.promisifyAll(mongoose);\nmongoose.Promise = global.Promise;\n\n\n//Connect to Database\nmongoose.connect('mongodb://mongoAdmin:Innov8@34.226.210.46:27017/admin', {\n    keepAlive: true,\n    reconnectTries: 5,\n    useMongoClient: true,\n    reconnectInterval: 500\n}, (err) => {\n    if (err) {\n        chalk.hex('#e81a00')('\\u2715 Failed to Connect to AWS instance, attemping to connect to local instance');\n        mongoose.connect('mongodb://localhost/test', (error) => {\n            if (error) {\n                console.log(chalk.hex('#e81a00')('\\u2715 Failed to Connect to the Database....Check Connection URI'))\n            } else {\n                console.log(chalk.green('\\u2713 connected to MongoDB:LOCAL ENV'));\n            }\n        });\n    } else {\n        console.log(chalk.green('\\u2713 Successfully connected to MongoDB in AWS'));\n\n    }\n});\n\n// uncomment after placing your favicon in /public\napp.use(logger('dev'));\napp.use(bodyParser.json());\n\napp.use(bodyParser.urlencoded({extended: false}));\napp.use(cookieParser());\napp.use(express.static(path.join(__dirname, 'public')));\napp.set('view engine', 'jade');\n\n\n//Allow CORS\napp.use((req, res, next) => {\n    res.header(\"Access-Control-Allow-Origin\", \"*\");\n    res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n    next();\n});\n\napp.use(function(req, res, next) {\n    res.header('Access-Control-Allow-Origin', '*');\n    res.header('Access-Control-Allow-Methods', 'GET, PUT, POST, DELETE, OPTIONS');\n    res.header('Access-Control-Allow-Headers', 'Content-Type, Authorization, Content-Length, X-Requested-With');\n    //intercepts OPTIONS method\n    'OPTIONS' === req.method ? res.send(200) : next();\n});\n\napp.options(\"/*\", function(req, res, next){\n    res.header('Access-Control-Allow-Origin', '*');\n    res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE,OPTIONS');\n    res.header('Access-Control-Allow-Headers', 'Content-Type, Authorization, Content-Length, X-Requested-With');\n    res.send(200);\n});\n\n/**\n * Gets the currently Running Version\n */\napp.get('/version', (req, res) => {\n    res.json({version: VERSION});\n});\n\n/**\n * Handles registering a new Namespace (for a new form)\n * or Running Analytics on an existing namespace\n */\napp.post('/form/register',  (req, res) => {\n    //Get the namespace & Required variables i.e. ApplicationName.formName\n    const namespace = req.body.namespace;\n    const elements = req.body.elements;\n    const method = req.body.method;\n    let limit;\n\n    if(req.body.hasOwnProperty('limit')) {\n         limit = req.body.limit;\n    }\n\n    Form.find({namespace}, (err, record) => {\n        //There was no namespace this is a new form\n        if(record.length <= 0) {\n            //Create a new namespace\n            new Form({namespace, elements}).save((err, record) => {\n                console.log(chalk.green(`\\u2713 Successfully created new Namespace: ${namespace}`));\n\n                res.json({\n                    success:true,\n                    namespace\n                })\n            });\n\n        } else {\n\n            //Find the different element & Join them into the Form Namespace\n            record[0].set({elements: _.union(elements.filter(e => !record[0].elements.includes(e)), record[0].elements)});\n            record[0].save();\n\n            console.log(chalk.green(`\\u2713 Namespace: ${namespace} has been located running analytics...`));\n\n            let promises = [];\n            let responseData = [];\n\n            elements.forEach(element => {\n                console.log(chalk.green(`\\u2713 Found Data for Element Namespace: ${element}`));\n                //Find each element given its parent namespace\n                let p = Element.find({namespace: `${namespace}.${element}`}).exec().then(val => {\n                    //Acts as a switch statement to effectively compute based on the specified method\n                    let analyticsMethod = {\n                        'per-subject-recent': () => {\n                            return  Analytics.perSubjectRecent(val, limit);\n                        },\n                        'per-subject-frequency': () => {\n                            return Analytics.perSubjectFrequency(val, limit);\n                        },\n                        'decision-tree': () => {\n                            return Analytics.decisionTree(val, limit);\n                        },\n                        'bayesian': () => {\n                            return Analytics.bayesian(val, limit);\n                        },\n                        'neural-network': () => {\n                            return predict(elements, element);\n                        }\n                    };\n                    //Push the results of the analytics to an empty array\n                    responseData.push(analyticsMethod[method]());\n                });\n                promises.push(p);\n            });\n            Promise.all(promises).then(() => {\n                res.json(responseData);\n            }).catch((err) => {\n                console.error(err);\n            });\n        }\n    });\n});\n\n/**\n * Handles a basic user signup\n */\napp.post('/signup', (req, res) => {\n    let {name, email, password, username }  = req.body;\n\n    let user = new User({name, email, password, username});\n    user.save();\n\n    res.json({success:true, user});\n});\n\n/**\n * Handles Calculating the Analytics on a custom dataset\n * @param dataset Array of MongoDB document objects\n * @param limit int The limit to\n * @param method String Method of analytics to run i.e. \"per-subject-frequency\n */\nconst runAnalytics = (dataset, method, limit = 3) => {\n    let analyticsMethod = {\n        'per-subject-recent': () => {\n            return  Analytics.perSubjectRecent(dataset, limit);\n        },\n        'per-subject-frequency': () => {\n            return Analytics.perSubjectFrequency(dataset, limit);\n        },\n        'decision-tree': () => {\n            return Analytics.decisionTree(dataset, limit);\n        },\n        'bayesian': () => {\n            return Analytics.bayesian(dataset, limit);\n        },\n        'neural-network': () => {\n            return predict(dataset, dataset[dataset.length - 1]);\n        }\n    };\n\n    //Push the results of the analytics to an empty array\n    return analyticsMethod[method]();\n};\n\n/**\n * Sorts JSON by specified object property\n * @param data Array JSON data to sort\n * @param prop String Object property name to sort by\n * @param asc boolean True to sort in ascending order\n * @returns {Aggregate|Query|*|Array.<T>}\n */\nconst sortResults = (data, prop, asc) => {\n    data = data.sort((a, b) => {\n        if (asc) {\n            return (a[prop] > b[prop]) ? 1 : ((a[prop] < b[prop]) ? -1 : 0);\n        } else {\n            return (b[prop] > a[prop]) ? 1 : ((b[prop] < a[prop]) ? -1 : 0);\n        }\n    });\n\n    return data;\n};\n\n/**\n * Handles Running Analytics on a Custom Set of Data\n * This method will do 3 things\n * 1.) Find all unique namespaces in the input data set\n * 2.) For each unique namespace run the specified analytics method on all of the data in that namespace\n * 3.) return an array with X amount of nested arrays representing the analysis for each unique namespace\n */\napp.post('/analytics', async (req, res) => {\n    const data = req.body.data;\n    const method = req.body.method;\n    let limit;\n\n    if(req.body.hasOwnProperty('limit')) {\n        limit = req.body.limit;\n    }\n\n    let namespaces = []; //Array holding all unique namespace\n    let analysis = []; //Array holding analysis for each unique namespace\n\n    let sortedData = sortResults(data, 'namespace', true);\n\n    for(let i = 0; i < sortedData.length; i++) {\n        if(!_.includes(namespaces, sortedData[i].namespace)) {\n            namespaces.push(sortedData[i].namespace)\n        }\n    }\n\n    //Filter the data and run the analytics\n    namespaces.forEach(namespace => {\n        let temp = [];\n\n        //TODO for some reason filter produces inconsistent results...weird..gonna have to filter manually for now\n       data.forEach(d => {\n          if(d.namespace === namespace) {\n              temp.push(d);\n          }\n       });\n\n       analysis.push(runAnalytics(temp, method, limit));\n    });\n\n    Promise.all(analysis).then(result => {\n        res.json(result);\n    }).catch((err) => {\n        console.error(err);\n    });\n});\n\n/**\n * Handles Inserting data into Mongo but does not run analytics\n * this is how the classifier is updated when the Submit button is pressed\n */\napp.post('/insert', (req, res) => {\n    const formNamespace = req.body.namespace; //Pizza.createForm\n    const elementNamespaces = req.body.elements; //[Meat, Veggies, CrustStyle]\n    const elementValues = req.body.values; //[Pepperoni, Tomatoes, Thin]\n    let user = req.body.user; //UserID\n\n    if(typeof user === 'undefined') {\n        user = null\n    }\n\n    if(elementNamespaces.length !== elementValues.length) {\n        console.log(chalk.hex('#e81a00')('\\u2715 ElementOutOfBoundsException Error: More Elements than Values to fill.'));\n        res.json({success: false, msg: 'There were more namespaces than values to fill or vice versa....Please ensure both arrays are of the same length.'});\n    } else {\n\n        //Ensure the elements exist in the Form Namespace\n        Form.find({namespace: formNamespace}, (err, record) => {\n            if (typeof record !== \"undefined\" && record.length > 0) {\n                if (!elementNamespaces.every(elem => record[0].elements.indexOf(elem) > -1)) {\n\n                    //An elementNamespace is not already defined in the Form model\n                    console.log(chalk.hex('#e81a00')('\\u2715 UndefinedNamespaceException: One of the element namespaces has not yet been defined in the Form Model'));\n                    res.json({\n                        success: false,\n                        msg: 'UndefinedNamespaceException: One of the element namespaces has not yet been defined in the Form Model'\n                    })\n\n                } else {\n                    let records = [];\n\n                    //Add a new value for each namespace\n                    elementNamespaces.map((value, key) => {\n                        //Remove the Item being stored from referencing itself\n                        let references = elementValues.filter(e => e !== elementValues[key]);\n                        let namespaces = elementNamespaces.filter(e => e !== elementNamespaces[key]);\n\n                        //Map over each reference and convert it into an object\n                        let finalRef = references.map((ele, key) => {\n                            return {\n                                namespace: `${formNamespace}.${namespaces[key]}`,\n                                value: ele\n                            }\n                        });\n\n                        records.push(new Element({\n                            namespace: `${formNamespace}.${value}`,\n                            value: elementValues[key],\n                            user,\n                            references: finalRef,\n                            updatedAt: new Date(),\n                            createdAt: new Date()\n                        }));\n                    });\n\n                    //Insert Bulk operation\n                    Element.collection.insert(records, (err, data) => {\n                        if(err) res.json({success: false, err});\n                        console.log(chalk.green(`\\u2713 Element data saved!`));\n                        console.log(chalk.green(`\\u2713 Running Neural Network`));\n\n                        res.json({success: true});\n                    });\n                }\n            } else {\n                console.log(chalk.hex('#e81a00')('\\u2715 UndefinedNamespaceException: One of the Form namespaces has not yet been defined in the Form Model use /form/register to define a new namespace'));\n                res.json({\n                    success: false,\n                    msg: 'UndefinedNamespaceException: One of the Form namespaces has not yet been defined in the Form Model use /form/register to define a new namespace'\n                })\n            }\n        });\n    }\n});\n\n\n/**\n * Run the Feed Forward Neural network\n * @param train Array set of data to train on\n * @param test Object a single document to base the prediction off of. This is the test data NOT the training data.\n * @param filter boolean True if the result should be filtered for only positive values. Defaults to true.\n */\nconst predict = (train, test, filter = true) => {\n        //Only take 10 docs\n        train = _.takeRight(train, 10);\n\n        let res = train.map(doc => {\n            return {\n                input: normalizeArray(doc.references),\n                output: normalize(doc)\n            }\n        });\n\n        const mind = new Mind().learn(res);\n\n        //Normalize the test data\n        test = normalize(test);\n        let result = denormalize(mind.predict(test));\n        if(filter) {\n            return result.filter(o => o.confidence > 0).sort((a, b) => b.confidence - a.confidence);\n        }\n\n        return result.sort((a, b) => b.confidence - a.confidence);\n};\n\n\n/**\n * Normalizes an output that is not an Array but a single value\n * @param obj Element document from MongoDB\n * @returns {[number,number,number,number,number,number,number,number,number,number,number,number,number,number]}\n */\nconst normalize = (obj) => {\n    let keys = ['Beef', 'Ham', 'Anchovies', 'Turkey', 'Bacon', 'Corn', 'Peppers', 'Onions', 'Tomato', 'Basil', 'Thin', 'Thick', 'Cheese', 'Pie'];\n    let map = [0,0,0,0,0,0,0,0,0,0,0,0,0,0]; //Represents beef => 0, Ham => 0 Anchovies => 1 Bacon => 1\n\n    let index = _.findIndex(keys, o => o === obj.value);\n\n    if(index !== null && index !== -1) {\n        //This is also going to be the same index in the map array which needs to be updated to be 1\n        map[index] = 1;\n    }\n\n    return map;\n};\n\n/**\n * De-normalizes a prediction back into human readable values\n * @param prediction Array of predicted values\n */\nconst denormalize = (prediction) => {\n    let keys = ['Beef', 'Ham', 'Anchovies', 'Turkey', 'Bacon', 'Corn', 'Peppers', 'Onions', 'Tomato', 'Basil', 'Thin', 'Thick', 'Cheese', 'Pie'];\n\n    if(prediction.length !== keys.length) {\n        return null;\n    }\n\n    return keys.map((value, key) => {\n         return {\n             name: value,\n             confidence: prediction[key]\n         }\n    });\n};\n\n/**\n * Normalizes a set of Form References into a binary classification\n * to be trained into a neural network\n * @param references\n * @returns {*}\n */\nconst normalizeArray = (references) => {\n    let keys = ['Beef', 'Ham', 'Anchovies', 'Turkey', 'Bacon', 'Corn', 'Peppers', 'Onions', 'Tomato', 'Basil', 'Thin', 'Thick', 'Cheese', 'Pie'];\n    let map = [0,0,0,0,0,0,0,0,0,0,0,0,0,0]; //Represents beef => 0, Ham => 0 Anchovies => 1 Bacon => 1\n\n    references.map(reference => {\n        //Find the index in the keys array where the value of the key is equal to the value of the reference\n       let index = _.findIndex(keys, o => {\n            return o === reference.value;\n        });\n\n       if(index !== null && index !== -1) {\n           //This is also going to be the same index in the map array which needs to be updated to be 1\n           map[index] = 1;\n       }\n    });\n\n    return map;\n};\n\n\n/**\n * Deletes all records in a Collection\n */\napp.get('/remove', (req, res) => {\n    Form.remove({}, () => {});\n    Element.remove({}, () => {});\n    res.json({success: true});\n});\n\napp.get('/all', (req, res) => {\n    Form.find({namespace: \"Pizza.createForm\"}, (err, data) => {\n        console.log(data);\n    });\n\n    Element.find({}, (err, d) => {\n        res.json(d);\n    });\n});\n\napp.post('/query', async (req, res) => {\n    try {\n        var hasTable = req.body.hasOwnProperty('table');\n        var hasAnd = req.body.query.hasOwnProperty('and');\n        var hasOr = req.body.query.hasOwnProperty('or');\n        var hasWhere = req.body.query.hasOwnProperty('where');\n        var hasUser = req.body.query.hasOwnProperty('user');\n        var hasLike = req.body.query.hasOwnProperty('like');\n        var hasLimit = req.body.query.hasOwnProperty('limit');\n        var hasTables = req.body.hasOwnProperty('tables');\n    } catch (err) {\n        //They are missing some properties of the query\n        console.log('\\u2715 Part of the Query is Undefined');\n    }\n\n    //Basic Error Checking\n    if(hasAnd && hasOr) {\n        res.json({\n            error: true,\n            msg: 'At this time you must either have an \"and\" property or an \"or\" property but not both.'\n        })\n    }\n\n    if(hasLike && hasWhere) {\n        res.json({\n            error: true,\n            msg: 'At this time you must either have a \"where\" clause or a \"like\" clause but not both'\n        })\n    }\n\n    if(hasTable && hasTables) {\n        res.json({\n            error: true,\n            msg: 'At this time you must either have a \"table\" clause or a \"tables\" clause but not both'\n        })\n    }\n\n    //Build up the query from an empty object\n    let query = {};\n\n    //Match Req body to query values\n    !hasTable ? query.namespace = {\n        $regex: req.body.namespace,\n        $options: 'i'\n    } : query.namespace = `${req.body.namespace}.${req.body.table}`;\n    hasWhere ? query.value = req.body.query.where : null;\n    hasAnd ? query['references.value'] = {$all: req.body.query.and} : null;\n    hasOr ? query['references.value'] = {$in: req.body.query.or} : null;\n    hasUser ? query.user = req.body.query.user : null;\n    hasLike ? query.value = {$regex: '.*' + req.body.query.like + '.*', $options: 'i'} : null;\n    if(hasTables) {\n        query.namespace = Analytics.toFullNamespace(req.body.namespace, req.body.tables);\n    }\n    hasLimit ?\n        Element.find(query, (err, docs) => {\n            docs = _.take(docs, req.body.limit);\n            res.json(docs);\n        }) :\n        Element.find(query, (err, docs) => {\n           res.json(docs);\n        });\n});\n\napp.get('*', async (req, res) => {\n    res.json({success: true, msg: 'The server is active and running!'});\n});\n\n// error handler\napp.use((err, req, res) => {\n    console.log(err);\n    // set locals, only providing error in development\n    res.locals.message = err.message;\n    res.locals.error = req.app.get('env') === 'development' ? err : {};\n\n    // render the error page\n    res.status(err.status || 500);\n\n    res.json({error: err});\n\n});\n\n\n/**\n * Get port from environment and store in Express.\n */\n\nconst port = 3010;\nconsole.log(chalk.blue('\\u2713 Setting Server Port to 3010...'));\napp.set('port', port);\n\n/**\n * Create HTTP server.\n */\nconsole.log(chalk.blue('\\u2713 Creating HTTP Server...'));\nconst server = http.createServer(app);\n\n/**\n * Listen on provided port, on all network interfaces.\n */\n\nserver.listen(port, (err) => {\n    if(err) onError(err);\n    onListening();\n});\n\n/**\n * Event listener for HTTP server \"error\" event.\n */\n\nfunction onError(error) {\n    if (error.syscall !== 'listen') {\n        throw error;\n    }\n\n    let bind = typeof port === 'string'\n        ? 'Pipe ' + port\n        : 'Port ' + port;\n\n    // handle specific listen errors with friendly messages\n    switch (error.code) {\n        case 'EACCES':\n            console.error(bind + ' requires elevated privileges');\n            process.exit(1);\n            break;\n        case 'EADDRINUSE':\n            console.error(bind + ' is already in use');\n            process.exit(1);\n            break;\n        default:\n            throw error;\n    }\n}\n\n/**\n * Event listener for HTTP server \"listening\" event.\n */\nfunction onListening() {\n    let addr = server.address();\n    console.log(chalk.green(`\\u2713 Running version (${VERSION})`));\n    console.log(chalk.blue('-------------------------------------------'));\n    console.log(chalk.blue(`| Analytics Server Listening on Port ${addr.port} |`));\n    console.log(chalk.blue('-------------------------------------------'));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/regenerator/index.js\n// module id = 5\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"debug\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"debug\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"morgan\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"morgan\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"jade\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jade\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"bluebird\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bluebird\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"chalk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"chalk\"\n// module id = 16\n// module chunks = 0","const _ = require('lodash');\nconst DecisionTree = require('decision-tree');\nconst mind = require('node-mind');\n\nmodule.exports = {\n    /**\n     * Takes the Rightmost 3 Elements from the\n     * Mongoose document array as the most recently used pieces of form data\n     * @param data\n     * @param limit int Limit the analysis results being returned\n     * @returns {Array}\n     */\n    perSubjectRecent(data, limit = 3) {\n        let arr = _.take(data, limit).map(i => {\n            return i.value;\n        });\n\n        return arr.filter(Boolean);\n    },\n\n    /**\n     * Find the most frequently used\n     * @param data\n     * @param limit int Limit the analysis results being returned\n     */\n    perSubjectFrequency(data, limit = 3) {\n        var frequency = {}, value;\n\n        // compute frequencies of each value\n        for(var i = 0; i < data.length; i++) {\n            value = data[i].value;\n            if(value in frequency) {\n                frequency[value]++;\n            } else {\n                frequency[value] = 1;\n            }\n        }\n\n        // make array from the frequency object to de-duplicate\n        var uniques = [];\n        for(value in frequency) {\n            uniques.push(value);\n        }\n\n        //Remove any blank values\n        uniques = uniques.filter(function(n){ return n != '' });\n\n        // sort the uniques array in descending order by frequency\n        function compareFrequency(a, b) {\n            return frequency[b] - frequency[a];\n        }\n        uniques.sort(compareFrequency);\n        \n        return _.take(uniques, limit);\n    },\n\n    /**\n     *\n     * @param data\n     * @param limit int Limit the analysis results being returned\n     * @returns {*}\n     */\n    decisionTree(data, limit = 3) {\n        let dt = new DecisionTree(data, \"value\", [\"value\", \"namespace\"]);\n\n        let predicted_class = dt.predict({\n            value: \"Ham\",\n            namespace: \"Pizza.createForm.Meats\"\n        });\n\n        let treeModel = dt.toJSON();\n        return predicted_class;\n\n    },\n\n    /**\n     *\n     * @param data\n     * @param limit int Limit the analysis results being returned\n     * @returns {*}\n     */\n    bayesian(data, limit = 3) {\n        //TODO mutate data\n        return data;\n    },\n\n    /**\n     * Takes a Parent Form Namespace and an array of elements which belong to the form\n     * and returns an array of fully quantified Namespaces ready for querying\n     * @param formNamespace\n     * @param elementArray\n     */\n    toFullNamespace(formNamespace, elementArray) {\n        return elementArray.map(value => {\n            return `${formNamespace}.${value}`\n        });\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/utils/AnalyticsWidget.js","module.exports = require(\"decision-tree\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"decision-tree\"\n// module id = 18\n// module chunks = 0","/**\n * Created by christianbartram on 10/18/17.\n */\nconst mongoose = require('mongoose');\n\nlet Form = mongoose.Schema({\n    namespace: String,\n    elements: Array,\n    output: String,\n    method: String\n});\n\n/**\n * Schema Methods\n */\n\n//Export the Model\nmodule.exports = mongoose.model('Form', Form);\n\n\n// WEBPACK FOOTER //\n// ./models/Form.js","/**\n * Created by christianbartram on 10/18/17.\n */\nconst mongoose = require('mongoose');\n\nlet Element = mongoose.Schema({\n    namespace: String, //Element on the forms specific namespace/id\n    type: String, //Select field, radio button, checkbox etc...\n    value: String,\n    user: String,\n    references: Array,\n    updatedAt: Date,\n    createdAt: Date\n});\n\n/**\n * Schema Methods\n */\n\n//Export the Model\nmodule.exports = mongoose.model('Element', Element);\n\n\n// WEBPACK FOOTER //\n// ./models/Element.js","/**\n * Created by christianbartram on 10/18/17.\n */\nconst mongoose = require('mongoose');\n\n\nlet User = mongoose.Schema({\n  name: String,\n  username: String,\n  email: String,\n  password: String\n});\n\n/**\n * Schema Methods\n */\n\n//Export the Model\nmodule.exports = mongoose.model('User', User);\n\n\n// WEBPACK FOOTER //\n// ./models/User.js"],"sourceRoot":""}